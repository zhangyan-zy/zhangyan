<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wingscode.modules.common.dao.BillInDao">

      <select id="selectAllList" resultType="com.wingscode.modules.common.entity.BillInEntity">
          select bi.*,su.username customerUserName from tb_bill_in bi
          left join sys_user su on bi.customer_id=su.user_id
          left join sys_user_role sur on su.user_id=sur.user_id
          where sur.role_id=4
          <if test="status != -1">
               and bi.status=#{status}
          </if>
          <if test="customerUserId !=0 ">
               and bi.customer_id =#{customerUserId}
          </if>
          <if test="billDate !=null ">
              and  bi.bill_date=#{billDate}
          </if>
      </select>


    <select id="queryBysn" resultType="com.wingscode.modules.common.entity.BillInEntity">
        select  *  from  tb_bill_in
        where sn = #{sn}
    </select>

    <select id="selectByBillId" resultType="com.wingscode.modules.common.entity.BillInEntity">
        select *  from tb_bill_in where id=#{billId}
    </select>
</mapper>